import{u as b}from"./devlop-Cl3hj7Sz.js";import{j as i}from"./react-Bab5vmyN.js";import{u as O}from"./unified-Drq2qpFp.js";import{r as v}from"./remark-parse-2duw96MN.js";import{r as P}from"./remark-rehype-BG8P7hLX.js";import{V as x}from"./vfile-DoIswyph.js";import{v as E}from"./unist-util-visit-8_a2MF5S.js";import{t as j}from"./hast-util-to-jsx-runtime-Dh4E7hAf.js";import{u as c}from"./html-url-attributes-D46m5wfe.js";const N="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",f=[],p={allowDangerousHtml:!0},R=/^(https?|ircs?|mailto|xmpp)$/i,T=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $(e){const r=H(e),s=S(e);return D(r.runSync(r.parse(s),s),e)}function H(e){const r=e.rehypePlugins||f,s=e.remarkPlugins||f,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...p}:p;return O().use(v).use(s).use(P,n).use(r)}function S(e){const r=e.children||"",s=new x;return typeof r=="string"&&(s.value=r),s}function D(e,r){const s=r.allowedElements,n=r.allowElement,m=r.components,d=r.disallowedElements,g=r.skipHtml,w=r.unwrapDisallowed,h=r.urlTransform||F;for(const o of T)Object.hasOwn(r,o.from)&&b("Unexpected `"+o.from+"` prop, "+(o.to?"use `"+o.to+"` instead":"remove it")+" (see <"+N+"#"+o.id+"> for more info)");return r.className&&(e={type:"element",tagName:"div",properties:{className:r.className},children:e.type==="root"?e.children:[e]}),E(e,y),j(e,{Fragment:i.Fragment,components:m,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function y(o,l,a){if(o.type==="raw"&&a&&typeof l=="number")return g?a.children.splice(l,1):a.children[l]={type:"text",value:o.value},l;if(o.type==="element"){let t;for(t in c)if(Object.hasOwn(c,t)&&Object.hasOwn(o.properties,t)){const k=o.properties[t],u=c[t];(u===null||u.includes(o.tagName))&&(o.properties[t]=h(String(k||""),t,o))}}if(o.type==="element"){let t=s?!s.includes(o.tagName):d?d.includes(o.tagName):!1;if(!t&&n&&typeof l=="number"&&(t=!n(o,l,a)),t&&a&&typeof l=="number")return w&&o.children?a.children.splice(l,1,...o.children):a.children.splice(l,1),l}}}function F(e){const r=e.indexOf(":"),s=e.indexOf("?"),n=e.indexOf("#"),m=e.indexOf("/");return r===-1||m!==-1&&r>m||s!==-1&&r>s||n!==-1&&r>n||R.test(e.slice(0,r))?e:""}export{$ as M,F as d};
