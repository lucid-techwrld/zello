import{s as yt,a as U,t as K,b as $,c as O,n as Ke,d as L,p as I,w as V,e as y,m as E,f as ce,g as ze,h as Z,i as A,j as Ce,k as q,l as Dt,o as W,q as st,r as Fe,u as Gt,v as ae,x as je,y as Be,z as De,A as ct,B as Hn}from"./@virtuoso.dev-DNpuJyj9.js";import{r as C}from"./react-Bab5vmyN.js";import{r as En}from"./react-dom-C-BV8mDv.js";function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},F.apply(this,arguments)}function Ye(e,t){if(e==null)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(n=i[o])>=0||(r[n]=e[n]);return r}function Nt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Ge(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(function(r,i){if(r){if(typeof r=="string")return Nt(r,i);var l=Object.prototype.toString.call(r).slice(8,-1);return l==="Object"&&r.constructor&&(l=r.constructor.name),l==="Map"||l==="Set"?Array.from(r):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Nt(r,i):void 0}})(e))||t){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $e,Q,bn=typeof document<"u"?C.useLayoutEffect:C.useEffect;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"})(Q||(Q={}));var Rn=(($e={})[Q.DEBUG]="debug",$e[Q.INFO]="log",$e[Q.WARN]="warn",$e[Q.ERROR]="error",$e),Ae=U(function(){var e=y(Q.ERROR);return{log:y(function(t,n,o){var r;o===void 0&&(o=Q.INFO),o>=((r=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)!=null?r:Be(e))&&console[Rn[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function Ht(e,t){t===void 0&&(t=!0);var n=C.useRef(null),o=function(i){};if(typeof ResizeObserver<"u"){var r=new ResizeObserver(function(i){var l=i[0].target;l.offsetParent!==null&&e(l)});o=function(i){i&&t?(r.observe(i),n.current=i):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Me(e,t){return t===void 0&&(t=!0),Ht(e,t).callbackRef}function tn(e,t,n,o,r,i,l){return Ht(function(a){for(var f=(function(S,v,x,P){var z=S.length;if(z===0)return null;for(var d=[],h=0;h<z;h++){var s=S.item(h);if(s&&s.dataset.index!==void 0){var m=parseInt(s.dataset.index),T=parseFloat(s.dataset.knownSize),b=v(s,"offsetHeight");if(b===0&&P("Zero-sized element, this should not happen",{child:s},Q.ERROR),b!==T){var H=d[d.length-1];d.length===0||H.size!==b||H.endIndex!==m-1?d.push({startIndex:m,endIndex:m,size:b}):d[d.length-1].endIndex++}}}return d})(a.children,t,0,r),u=a.parentElement;!u.dataset.virtuosoScroller;)u=u.parentElement;var c=u.firstElementChild.dataset.viewportType==="window",p=l?l.scrollTop:c?window.pageYOffset||document.documentElement.scrollTop:u.scrollTop,w=l?l.scrollHeight:c?document.documentElement.scrollHeight:u.scrollHeight,g=l?l.offsetHeight:c?window.innerHeight:u.offsetHeight;o({scrollTop:Math.max(p,0),scrollHeight:w,viewportHeight:g}),i?.((function(S,v,x){return v==="normal"||v!=null&&v.endsWith("px")||x("row-gap was not resolved to pixel value correctly",v,Q.WARN),v==="normal"?0:parseInt(v??"0",10)})(0,getComputedStyle(a).rowGap,r)),f!==null&&e(f)},n)}function Le(e,t){return Math.round(e.getBoundingClientRect()[t])}function nn(e,t){return Math.abs(e-t)<1.01}function on(e,t,n,o,r){o===void 0&&(o=Ke);var i=C.useRef(null),l=C.useRef(null),a=C.useRef(null),f=C.useRef(!1),u=C.useCallback(function(c){var p=c.target,w=p===window||p===document,g=w?window.pageYOffset||document.documentElement.scrollTop:p.scrollTop,S=w?document.documentElement.scrollHeight:p.scrollHeight,v=w?window.innerHeight:p.offsetHeight,x=function(){e({scrollTop:Math.max(g,0),scrollHeight:S,viewportHeight:v})};f.current?En.flushSync(x):x(),f.current=!1,l.current!==null&&(g===l.current||g<=0||g===S-v)&&(l.current=null,t(!0),a.current&&(clearTimeout(a.current),a.current=null))},[e,t]);return C.useEffect(function(){var c=r||i.current;return o(r||i.current),u({target:c}),c.addEventListener("scroll",u,{passive:!0}),function(){o(null),c.removeEventListener("scroll",u)}},[i,u,n,o,r]),{scrollerRef:i,scrollByCallback:function(c){f.current=!0,i.current.scrollBy(c)},scrollToCallback:function(c){var p=i.current;if(p&&(!("offsetHeight"in p)||p.offsetHeight!==0)){var w,g,S,v=c.behavior==="smooth";if(p===window?(g=Math.max(Le(document.documentElement,"height"),document.documentElement.scrollHeight),w=window.innerHeight,S=document.documentElement.scrollTop):(g=p.scrollHeight,w=Le(p,"height"),S=p.scrollTop),c.top=Math.ceil(Math.max(Math.min(g-w,c.top),0)),nn(w,g)||c.top===S)return e({scrollTop:S,scrollHeight:g,viewportHeight:w}),void(v&&t(!0));v?(l.current=c.top,a.current&&clearTimeout(a.current),a.current=setTimeout(function(){a.current=null,l.current=null,t(!0)},1e3)):l.current=null,p.scrollTo(c)}}}}var me=U(function(){var e=O(),t=O(),n=y(0),o=O(),r=y(0),i=O(),l=O(),a=y(0),f=y(0),u=y(0),c=y(0),p=O(),w=O(),g=y(!1),S=y(!1);return L(I(e,E(function(v){return v.scrollTop})),t),L(I(e,E(function(v){return v.scrollHeight})),l),L(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:a,fixedHeaderHeight:f,fixedFooterHeight:u,footerHeight:c,scrollHeight:l,smoothScrollTargetReached:o,react18ConcurrentRendering:S,scrollTo:p,scrollBy:w,statefulScrollTop:r,deviation:n,scrollingInProgress:g}},[],{singleton:!0}),et={lvl:0};function rn(e,t,n,o,r){return o===void 0&&(o=et),r===void 0&&(r=et),{k:e,v:t,lvl:n,l:o,r}}function j(e){return e===et}function Qe(){return et}function Ct(e,t){if(j(e))return et;var n=e.k,o=e.l,r=e.r;if(t===n){if(j(o))return r;if(j(r))return o;var i=ln(o);return xt(oe(e,{k:i[0],v:i[1],l:an(o)}))}return xt(oe(e,t<n?{l:Ct(o,t)}:{r:Ct(r,t)}))}function be(e,t,n){if(n===void 0&&(n="k"),j(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var o=be(e.r,t,n);return o[0]===-1/0?[e.k,e.v]:o}return be(e.l,t,n)}function Ee(e,t,n){return j(e)?rn(t,n,1):t===e.k?oe(e,{k:t,v:n}):(function(o){return Tt(sn(o))})(oe(e,t<e.k?{l:Ee(e.l,t,n)}:{r:Ee(e.r,t,n)}))}function St(e,t,n){if(j(e))return[];var o=e.k,r=e.v,i=e.r,l=[];return o>t&&(l=l.concat(St(e.l,t,n))),o>=t&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(St(i,t,n))),l}function ft(e){return j(e)?[]:[].concat(ft(e.l),[{k:e.k,v:e.v}],ft(e.r))}function ln(e){return j(e.r)?[e.k,e.v]:ln(e.r)}function an(e){return j(e.r)?e.l:xt(oe(e,{r:an(e.r)}))}function oe(e,t){return rn(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function vt(e){return j(e)||e.lvl>e.r.lvl}function xt(e){var t=e.l,n=e.r,o=e.lvl;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(vt(t))return sn(oe(e,{lvl:o-1}));if(j(t)||j(t.r))throw new Error("Unexpected empty nodes");return oe(t.r,{l:oe(t,{r:t.r.l}),r:oe(e,{l:t.r.r,lvl:o-1}),lvl:o})}if(vt(e))return Tt(oe(e,{lvl:o-1}));if(j(n)||j(n.l))throw new Error("Unexpected empty nodes");var r=n.l,i=vt(r)?n.lvl-1:n.lvl;return oe(r,{l:oe(e,{r:r.l,lvl:o-1}),r:Tt(oe(n,{l:r.r,lvl:i})),lvl:r.lvl+1})}function mt(e,t,n){return j(e)?[]:un(St(e,be(e,t)[0],n),function(o){return{index:o.k,value:o.v}})}function un(e,t){var n=e.length;if(n===0)return[];for(var o=t(e[0]),r=o.index,i=o.value,l=[],a=1;a<n;a++){var f=t(e[a]),u=f.index,c=f.value;l.push({start:r,end:u-1,value:i}),r=u,i=c}return l.push({start:r,end:1/0,value:i}),l}function Tt(e){var t=e.r,n=e.lvl;return j(t)||j(t.r)||t.lvl!==n||t.r.lvl!==n?e:oe(t,{l:oe(e,{r:t.l}),lvl:n+1})}function sn(e){var t=e.l;return j(t)||t.lvl!==e.lvl?e:oe(t,{r:oe(e,{l:t.r})})}function dt(e,t,n,o){o===void 0&&(o=0);for(var r=e.length-1;o<=r;){var i=Math.floor((o+r)/2),l=n(e[i],t);if(l===0)return i;if(l===-1){if(r-o<2)return i-1;r=i-1}else{if(r===o)return i;o=i+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function cn(e,t,n){return e[dt(e,t,n)]}var Et=U(function(){return{recalcInProgress:y(!1)}},[],{singleton:!0});function kn(e){var t=e.size,n=e.startIndex,o=e.endIndex;return function(r){return r.start===n&&(r.end===o||r.end===1/0)&&r.value===t}}function bt(e,t){var n=e.index;return t===n?0:t<n?-1:1}function zn(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function Bn(e){return{index:e.index,value:e}}function fn(e,t,n,o){var r=e,i=0,l=0,a=0,f=0;if(t!==0){a=r[f=dt(r,t-1,bt)].offset;var u=be(n,t-1);i=u[0],l=u[1],r.length&&r[f].size===be(n,t)[1]&&(f-=1),r=r.slice(0,f+1)}else r=[];for(var c,p=Ge(mt(n,t,1/0));!(c=p()).done;){var w=c.value,g=w.start,S=w.value,v=g-i,x=v*l+a+v*o;r.push({offset:x,size:S,index:g}),i=g,a=x,l=S}return{offsetTree:r,lastIndex:i,lastOffset:a,lastSize:l}}function Ln(e,t){var n=t[0],o=t[1],r=t[3];n.length>0&&(0,t[2])("received item sizes",n,Q.DEBUG);var i=e.sizeTree,l=i,a=0;if(o.length>0&&j(i)&&n.length===2){var f=n[0].size,u=n[1].size;l=o.reduce(function(g,S){return Ee(Ee(g,S,f),S+1,u)},l)}else{var c=(function(g,S){for(var v,x=j(g)?0:1/0,P=Ge(S);!(v=P()).done;){var z=v.value,d=z.size,h=z.startIndex,s=z.endIndex;if(x=Math.min(x,h),j(g))g=Ee(g,0,d);else{var m=mt(g,h-1,s+1);if(!m.some(kn(z))){for(var T,b=!1,H=!1,k=Ge(m);!(T=k()).done;){var M=T.value,G=M.start,Y=M.end,X=M.value;b?(s>=G||d===X)&&(g=Ct(g,G)):(H=X!==d,b=!0),Y>s&&s>=G&&X!==d&&(g=Ee(g,s+1,X))}H&&(g=Ee(g,h,d))}}}return[g,x]})(l,n);l=c[0],a=c[1]}if(l===i)return e;var p=fn(e.offsetTree,a,l,r),w=p.offsetTree;return{sizeTree:l,offsetTree:w,lastIndex:p.lastIndex,lastOffset:p.lastOffset,lastSize:p.lastSize,groupOffsetTree:o.reduce(function(g,S){return Ee(g,S,tt(S,w,r))},Qe()),groupIndices:o}}function tt(e,t,n){if(t.length===0)return 0;var o=cn(t,e,bt),r=e-o.index,i=o.size*r+(r-1)*n+o.offset;return i>0?i+n:i}function dn(e,t,n){if((function(r){return r.groupIndex!==void 0})(e))return t.groupIndices[e.groupIndex]+1;var o=mn(e.index==="LAST"?n:e.index,t);return Math.max(0,o,Math.min(n,o))}function mn(e,t){if(!pt(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function pt(e){return!j(e.groupOffsetTree)}var Pn={offsetHeight:"height",offsetWidth:"width"},Pe=U(function(e){var t=e[0].log,n=e[1].recalcInProgress,o=O(),r=O(),i=ce(r,0),l=O(),a=O(),f=y(0),u=y([]),c=y(void 0),p=y(void 0),w=y(function(s,m){return Le(s,Pn[m])}),g=y(void 0),S=y(0),v={offsetTree:[],sizeTree:Qe(),groupOffsetTree:Qe(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},x=ce(I(o,V(u,t,S),ze(Ln,v),Z()),v);L(I(u,A(function(s){return s.length>0}),V(x,S),E(function(s){var m=s[0],T=s[1],b=s[2],H=m.reduce(function(k,M,G){return Ee(k,M,tt(M,T.offsetTree,b)||G)},Qe());return F({},T,{groupIndices:m,groupOffsetTree:H})})),x),L(I(r,V(x),A(function(s){return s[0]<s[1].lastIndex}),E(function(s){var m=s[1];return[{startIndex:s[0],endIndex:m.lastIndex,size:m.lastSize}]})),o),L(c,p);var P=ce(I(c,E(function(s){return s===void 0})),!0);L(I(p,A(function(s){return s!==void 0&&j(Be(x).sizeTree)}),E(function(s){return[{startIndex:0,endIndex:0,size:s}]})),o);var z=Ce(I(o,V(x),ze(function(s,m){var T=m[1];return{changed:T!==s.sizes,sizes:T}},{changed:!1,sizes:v}),E(function(s){return s.changed})));$(I(f,ze(function(s,m){return{diff:s.prev-m,prev:m}},{diff:0,prev:0}),E(function(s){return s.diff})),function(s){s>0?(q(n,!0),q(l,s)):s<0&&q(a,s)}),$(I(f,V(t)),function(s){s[0]<0&&(0,s[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:f},Q.ERROR)});var d=Ce(l);L(I(l,V(x),E(function(s){var m=s[0],T=s[1];if(T.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return ft(T.sizeTree).reduce(function(b,H){var k=H.k,M=H.v;return{ranges:[].concat(b.ranges,[{startIndex:b.prevIndex,endIndex:k+m-1,size:b.prevSize}]),prevIndex:k+m,prevSize:M}},{ranges:[],prevIndex:0,prevSize:T.lastSize}).ranges})),o);var h=Ce(I(a,V(x,S),E(function(s){return tt(-s[0],s[1].offsetTree,s[2])})));return L(I(a,V(x,S),E(function(s){var m=s[0],T=s[1],b=s[2];if(T.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var H=ft(T.sizeTree).reduce(function(k,M){var G=M.v;return Ee(k,Math.max(0,M.k+m),G)},Qe());return F({},T,{sizeTree:H},fn(T.offsetTree,0,H,b))})),x),{data:g,totalCount:r,sizeRanges:o,groupIndices:u,defaultItemSize:p,fixedItemSize:c,unshiftWith:l,shiftWith:a,shiftWithOffset:h,beforeUnshiftWith:d,firstItemIndex:f,gap:S,sizes:x,listRefresh:z,statefulTotalCount:i,trackItemSizes:P,itemSize:w}},K(Ae,Et),{singleton:!0}),On=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function pn(e){var t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),t.behavior&&On||(t.behavior="auto"),t.offset||(t.offset=0),t}var rt=U(function(e){var t=e[0],n=t.sizes,o=t.totalCount,r=t.listRefresh,i=t.gap,l=e[1],a=l.scrollingInProgress,f=l.viewportHeight,u=l.scrollTo,c=l.smoothScrollTargetReached,p=l.headerHeight,w=l.footerHeight,g=l.fixedHeaderHeight,S=l.fixedFooterHeight,v=e[2].log,x=O(),P=y(0),z=null,d=null,h=null;function s(){z&&(z(),z=null),h&&(h(),h=null),d&&(clearTimeout(d),d=null),q(a,!1)}return L(I(x,V(n,f,o,P,p,w,v),V(i,g,S),E(function(m){var T=m[0],b=T[0],H=T[1],k=T[2],M=T[3],G=T[4],Y=T[5],X=T[6],R=T[7],J=m[1],te=m[2],We=m[3],Re=pn(b),Oe=Re.align,B=Re.behavior,N=Re.offset,pe=M-1,fe=dn(Re,H,pe),he=tt(fe,H.offsetTree,J)+Y;Oe==="end"?(he+=te+be(H.sizeTree,fe)[1]-k+We,fe===pe&&(he+=X)):Oe==="center"?he+=(te+be(H.sizeTree,fe)[1]-k+We)/2:he-=G,N&&(he+=N);var ge=function(de){s(),de?(R("retrying to scroll to",{location:b},Q.DEBUG),q(x,b)):R("list did not change, scroll successful",{},Q.DEBUG)};if(s(),B==="smooth"){var ve=!1;h=$(r,function(de){ve=ve||de}),z=De(c,function(){ge(ve)})}else z=De(I(r,function(de){var ke=setTimeout(function(){de(!1)},150);return function(ne){ne&&(de(!0),clearTimeout(ke))}}),ge);return d=setTimeout(function(){s()},1200),q(a,!0),R("scrolling from index to",{index:fe,top:he,behavior:B},Q.DEBUG),{top:he,behavior:B}})),u),{scrollToIndex:x,topListHeight:P}},K(Pe,me,Ae),{singleton:!0}),nt="up",Fn={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},it=U(function(e){var t=e[0],n=t.scrollContainerState,o=t.scrollTop,r=t.viewportHeight,i=t.headerHeight,l=t.footerHeight,a=t.scrollBy,f=y(!1),u=y(!0),c=O(),p=O(),w=y(4),g=y(0),S=ce(I(Dt(I(W(o),st(1),Fe(!0)),I(W(o),st(1),Fe(!1),Gt(100))),Z()),!1),v=ce(I(Dt(I(a,Fe(!0)),I(a,Fe(!1),Gt(200))),Z()),!1);L(I(ae(W(o),W(g)),E(function(h){return h[0]<=h[1]}),Z()),u),L(I(u,je(50)),p);var x=Ce(I(ae(n,W(r),W(i),W(l),W(w)),ze(function(h,s){var m,T,b=s[0],H=b.scrollTop,k=b.scrollHeight,M=s[1],G={viewportHeight:M,scrollTop:H,scrollHeight:k};return H+M-k>-s[4]?(H>h.state.scrollTop?(m="SCROLLED_DOWN",T=h.state.scrollTop-H):(m="SIZE_DECREASED",T=h.state.scrollTop-H||h.scrollTopDelta),{atBottom:!0,state:G,atBottomBecause:m,scrollTopDelta:T}):{atBottom:!1,notAtBottomBecause:G.scrollHeight>h.state.scrollHeight?"SIZE_INCREASED":M<h.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":H<h.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:G}},Fn),Z(function(h,s){return h&&h.atBottom===s.atBottom}))),P=ce(I(n,ze(function(h,s){var m=s.scrollTop,T=s.scrollHeight,b=s.viewportHeight;return nn(h.scrollHeight,T)?{scrollTop:m,scrollHeight:T,jump:0,changed:!1}:h.scrollTop!==m&&T-(m+b)<1?{scrollHeight:T,scrollTop:m,jump:h.scrollTop-m,changed:!0}:{scrollHeight:T,scrollTop:m,jump:0,changed:!0}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),A(function(h){return h.changed}),E(function(h){return h.jump})),0);L(I(x,E(function(h){return h.atBottom})),f),L(I(f,je(50)),c);var z=y("down");L(I(n,E(function(h){return h.scrollTop}),Z(),ze(function(h,s){return Be(v)?{direction:h.direction,prevScrollTop:s}:{direction:s<h.prevScrollTop?nt:"down",prevScrollTop:s}},{direction:"down",prevScrollTop:0}),E(function(h){return h.direction})),z),L(I(n,je(50),Fe("none")),z);var d=y(0);return L(I(S,A(function(h){return!h}),Fe(0)),d),L(I(o,je(100),V(S),A(function(h){return!!h[1]}),ze(function(h,s){return[h[1],s[0]]},[0,0]),E(function(h){return h[1]-h[0]})),d),{isScrolling:S,isAtTop:u,isAtBottom:f,atBottomState:x,atTopStateChange:p,atBottomStateChange:c,scrollDirection:z,atBottomThreshold:w,atTopThreshold:g,scrollVelocity:d,lastJumpDueToItemResize:P}},K(me)),Ne=U(function(e){var t=e[0].log,n=y(!1),o=Ce(I(n,A(function(r){return r}),Z()));return $(n,function(r){r&&Be(t)("props updated",{},Q.DEBUG)}),{propsReady:n,didMount:o}},K(Ae),{singleton:!0}),Rt=U(function(e){var t=e[0],n=t.sizes,o=t.listRefresh,r=t.defaultItemSize,i=e[1].scrollTop,l=e[2].scrollToIndex,a=e[3].didMount,f=y(!0),u=y(0);return L(I(a,V(u),A(function(c){return!!c[1]}),Fe(!1)),f),$(I(ae(o,a),V(f,n,r),A(function(c){var p=c[1],w=c[3];return c[0][1]&&(!j(c[2].sizeTree)||w!==void 0)&&!p}),V(u)),function(c){var p=c[1];setTimeout(function(){De(i,function(){q(f,!0)}),q(l,p)})}),{scrolledToInitialItem:f,initialTopMostItemIndex:u}},K(Pe,me,rt,Ne),{singleton:!0});function Ut(e){return!!e&&(e==="smooth"?"smooth":"auto")}var Mn=U(function(e){var t=e[0],n=t.totalCount,o=t.listRefresh,r=e[1],i=r.isAtBottom,l=r.atBottomState,a=e[2].scrollToIndex,f=e[3].scrolledToInitialItem,u=e[4],c=u.propsReady,p=u.didMount,w=e[5].log,g=e[6].scrollingInProgress,S=y(!1),v=O(),x=null;function P(d){q(a,{index:"LAST",align:"end",behavior:d})}function z(d){var h=De(l,function(s){!d||s.atBottom||s.notAtBottomBecause!=="SIZE_INCREASED"||x||(Be(w)("scrolling to bottom due to increased size",{},Q.DEBUG),P("auto"))});setTimeout(h,100)}return $(I(ae(I(W(n),st(1)),p),V(W(S),i,f,g),E(function(d){var h=d[0],s=h[0],m=h[1]&&d[3],T="auto";return m&&(T=(function(b,H){return typeof b=="function"?Ut(b(H)):H&&Ut(b)})(d[1],d[2]||d[4]),m=m&&!!T),{totalCount:s,shouldFollow:m,followOutputBehavior:T}}),A(function(d){return d.shouldFollow})),function(d){var h=d.totalCount,s=d.followOutputBehavior;x&&(x(),x=null),x=De(o,function(){Be(w)("following output to ",{totalCount:h},Q.DEBUG),P(s),x=null})}),$(I(ae(W(S),n,c),A(function(d){return d[0]&&d[2]}),ze(function(d,h){var s=h[1];return{refreshed:d.value===s,value:s}},{refreshed:!1,value:0}),A(function(d){return d.refreshed}),V(S,n)),function(d){z(d[1]!==!1)}),$(v,function(){z(Be(S)!==!1)}),$(ae(W(S),l),function(d){var h=d[1];d[0]&&!h.atBottom&&h.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&P("auto")}),{followOutput:S,autoscrollToBottom:v}},K(Pe,it,rt,Rt,Ne,Ae,me));function An(e){return e.reduce(function(t,n){return t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t},{totalCount:0,groupIndices:[]})}var hn=U(function(e){var t=e[0],n=t.totalCount,o=t.groupIndices,r=t.sizes,i=e[1],l=i.scrollTop,a=i.headerHeight,f=O(),u=O(),c=Ce(I(f,E(An)));return L(I(c,E(function(p){return p.totalCount})),n),L(I(c,E(function(p){return p.groupIndices})),o),L(I(ae(l,r,a),A(function(p){return pt(p[1])}),E(function(p){return be(p[1].groupOffsetTree,Math.max(p[0]-p[2],0),"v")[0]}),Z(),E(function(p){return[p]})),u),{groupCounts:f,topItemsIndexes:u}},K(Pe,me));function ot(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function gn(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function _t(e,t,n){return typeof e=="number"?n===nt&&t==="top"||n==="down"&&t==="bottom"?e:0:n===nt?t==="top"?e.main:e.reverse:t==="bottom"?e.main:e.reverse}function jt(e,t){return typeof e=="number"?e:e[t]||0}var kt=U(function(e){var t=e[0],n=t.scrollTop,o=t.viewportHeight,r=t.deviation,i=t.headerHeight,l=t.fixedHeaderHeight,a=O(),f=y(0),u=y(0),c=y(0),p=ce(I(ae(W(n),W(o),W(i),W(a,ot),W(c),W(f),W(l),W(r),W(u)),E(function(w){var g=w[0],S=w[1],v=w[2],x=w[3],P=x[0],z=x[1],d=w[4],h=w[6],s=w[7],m=w[8],T=g-s,b=w[5]+h,H=Math.max(v-T,0),k="none",M=jt(m,"top"),G=jt(m,"bottom");return P-=s,z+=v+h,(P+=v+h)>g+b-M&&(k=nt),(z-=s)<g-H+S+G&&(k="down"),k!=="none"?[Math.max(T-v-_t(d,"top",k)-M,0),T-H-h+S+_t(d,"bottom",k)+G]:null}),A(function(w){return w!=null}),Z(ot)),[0,0]);return{listBoundary:a,overscan:c,topListHeight:f,increaseViewportBy:u,visibleRange:p}},K(me),{singleton:!0}),Kt={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function Yt(e,t,n){if(e.length===0)return[];if(!pt(t))return e.map(function(c){return F({},c,{index:c.index+n,originalIndex:c.index})});for(var o,r=[],i=mt(t.groupOffsetTree,e[0].index,e[e.length-1].index),l=void 0,a=0,f=Ge(e);!(o=f()).done;){var u=o.value;(!l||l.end<u.index)&&(l=i.shift(),a=t.groupIndices.indexOf(l.start)),r.push(F({},u.index===l.start?{type:"group",index:a}:{index:u.index-(a+1)+n,groupIndex:a},{size:u.size,offset:u.offset,originalIndex:u.index,data:u.data}))}return r}function ut(e,t,n,o,r,i){var l=0,a=0;if(e.length>0){l=e[0].offset;var f=e[e.length-1];a=f.offset+f.size}var u=n-r.lastIndex,c=l,p=r.lastOffset+u*r.lastSize+(u-1)*o-a;return{items:Yt(e,r,i),topItems:Yt(t,r,i),topListHeight:t.reduce(function(w,g){return g.size+w},0),offsetTop:l,offsetBottom:p,top:c,bottom:a,totalCount:n,firstItemIndex:i}}var qe=U(function(e){var t=e[0],n=t.sizes,o=t.totalCount,r=t.data,i=t.firstItemIndex,l=t.gap,a=e[1],f=e[2],u=f.visibleRange,c=f.listBoundary,p=f.topListHeight,w=e[3],g=w.scrolledToInitialItem,S=w.initialTopMostItemIndex,v=e[4].topListHeight,x=e[5],P=e[6].didMount,z=e[7].recalcInProgress,d=y([]),h=O();L(a.topItemsIndexes,d);var s=ce(I(ae(P,z,W(u,ot),W(o),W(n),W(S),g,W(d),W(i),W(l),r),A(function(m){return m[0]&&!m[1]}),E(function(m){var T=m[2],b=T[0],H=T[1],k=m[3],M=m[5],G=m[6],Y=m[7],X=m[8],R=m[9],J=m[10],te=m[4],We=te.sizeTree,Re=te.offsetTree;if(k===0||b===0&&H===0)return F({},Kt,{totalCount:k});if(j(We))return ut((function(ie,ue,Ie){if(pt(ue)){var se=mn(ie,ue);return[{index:be(ue.groupOffsetTree,se)[0],size:0,offset:0},{index:se,size:0,offset:0,data:Ie&&Ie[0]}]}return[{index:ie,size:0,offset:0,data:Ie&&Ie[0]}]})((function(ie,ue){return typeof ie=="number"?ie:ie.index==="LAST"?ue-1:ie.index})(M,k),te,J),[],k,R,te,X);var Oe=[];if(Y.length>0)for(var B,N=Y[0],pe=Y[Y.length-1],fe=0,he=Ge(mt(We,N,pe));!(B=he()).done;)for(var ge=B.value,ve=ge.value,de=Math.max(ge.start,N),ke=Math.min(ge.end,pe),ne=de;ne<=ke;ne++)Oe.push({index:ne,size:ve,offset:fe,data:J&&J[ne]}),fe+=ve;if(!G)return ut([],Oe,k,R,te,X);var re=Y.length>0?Y[Y.length-1]+1:0,Ue=(function(ie,ue,Ie,se){return se===void 0&&(se=0),se>0&&(ue=Math.max(ue,cn(ie,se,bt).offset)),un((we=Ie,Se=dt(Te=ie,ue,ye=zn),Je=dt(Te,we,ye,Se),Te.slice(Se,Je+1)),Bn);var Te,we,ye,Se,Je})(Re,b,H,re);if(Ue.length===0)return null;var lt=k-1;return ut(Hn([],function(ie){for(var ue,Ie=Ge(Ue);!(ue=Ie()).done;){var se=ue.value,Te=se.value,we=Te.offset,ye=se.start,Se=Te.size;if(Te.offset<b){var Je=(ye+=Math.floor((b-Te.offset+R)/(Se+R)))-se.start;we+=Je*Se+Je*R}ye<re&&(we+=(re-ye)*Se,ye=re);for(var yn=Math.min(se.end,lt),at=ye;at<=yn&&!(we>=H);at++)ie.push({index:at,size:Se,offset:we,data:J&&J[at]}),we+=Se+R}}),Oe,k,R,te,X)}),A(function(m){return m!==null}),Z()),Kt);return L(I(r,A(function(m){return m!==void 0}),E(function(m){return m.length})),o),L(I(s,E(function(m){return m.topListHeight})),v),L(v,p),L(I(s,E(function(m){return[m.top,m.bottom]})),c),L(I(s,E(function(m){return m.items})),h),F({listState:s,topItemsIndexes:d,endReached:Ce(I(s,A(function(m){return m.items.length>0}),V(o,r),A(function(m){var T=m[0].items;return T[T.length-1].originalIndex===m[1]-1}),E(function(m){return[m[1]-1,m[2]]}),Z(ot),E(function(m){return m[0]}))),startReached:Ce(I(s,je(200),A(function(m){var T=m.items;return T.length>0&&T[0].originalIndex===m.topItems.length}),E(function(m){return m.items[0].index}),Z())),rangeChanged:Ce(I(s,A(function(m){return m.items.length>0}),E(function(m){for(var T=m.items,b=0,H=T.length-1;T[b].type==="group"&&b<H;)b++;for(;T[H].type==="group"&&H>b;)H--;return{startIndex:T[b].index,endIndex:T[H].index}}),Z(gn))),itemsRendered:h},x)},K(Pe,hn,kt,Rt,rt,it,Ne,Et),{singleton:!0}),Wn=U(function(e){var t=e[0],n=t.sizes,o=t.firstItemIndex,r=t.data,i=t.gap,l=e[1].listState,a=e[2].didMount,f=y(0);return L(I(a,V(f),A(function(u){return u[1]!==0}),V(n,o,i,r),E(function(u){var c=u[0][1],p=u[1],w=u[2],g=u[3],S=u[4],v=S===void 0?[]:S,x=0;if(p.groupIndices.length>0)for(var P,z=Ge(p.groupIndices);!((P=z()).done||P.value-x>=c);)x++;var d=c+x;return ut(Array.from({length:d}).map(function(h,s){return{index:s,size:0,offset:0,data:v[s]}}),[],d,g,p,w)})),l),{initialItemCount:f}},K(Pe,qe,Ne),{singleton:!0}),vn=U(function(e){var t=e[0].scrollVelocity,n=y(!1),o=O(),r=y(!1);return L(I(t,V(r,n,o),A(function(i){return!!i[1]}),E(function(i){var l=i[0],a=i[1],f=i[2],u=i[3],c=a.enter;if(f){if((0,a.exit)(l,u))return!1}else if(c(l,u))return!0;return f}),Z()),n),$(I(ae(n,t,o),V(r)),function(i){var l=i[0],a=i[1];return l[0]&&a&&a.change&&a.change(l[1],l[2])}),{isSeeking:n,scrollSeekConfiguration:r,scrollVelocity:t,scrollSeekRangeChanged:o}},K(it),{singleton:!0}),Vn=U(function(e){var t=e[0].topItemsIndexes,n=y(0);return L(I(n,A(function(o){return o>0}),E(function(o){return Array.from({length:o}).map(function(r,i){return i})})),t),{topItemCount:n}},K(qe)),zt=U(function(e){var t=e[0],n=t.footerHeight,o=t.headerHeight,r=t.fixedHeaderHeight,i=t.fixedFooterHeight,l=e[1].listState,a=O(),f=ce(I(ae(n,i,o,r,l),E(function(u){var c=u[4];return u[0]+u[1]+u[2]+u[3]+c.offsetBottom+c.bottom})),0);return L(W(f),a),{totalListHeight:f,totalListHeightChanged:a}},K(me,qe),{singleton:!0});function In(e){var t,n=!1;return function(){return n||(n=!0,t=e()),t}}var Dn=In(function(){return/iP(ad|hone|od).+Version\/[\d.]+.*Safari/i.test(navigator.userAgent)}),Gn=U(function(e){var t=e[0],n=t.scrollBy,o=t.scrollTop,r=t.deviation,i=t.scrollingInProgress,l=e[1],a=l.isScrolling,f=l.isAtBottom,u=l.scrollDirection,c=e[3],p=c.beforeUnshiftWith,w=c.shiftWithOffset,g=c.sizes,S=c.gap,v=e[4].log,x=e[5].recalcInProgress,P=Ce(I(e[2].listState,V(l.lastJumpDueToItemResize),ze(function(d,h){var s=d[1],m=h[0],T=m.items,b=m.totalCount,H=m.bottom+m.offsetBottom,k=0;return d[2]===b&&s.length>0&&T.length>0&&(T[0].originalIndex===0&&s[0].originalIndex===0||(k=H-d[3])!=0&&(k+=h[1])),[k,T,b,H]},[0,[],0,0]),A(function(d){return d[0]!==0}),V(o,u,i,f,v),A(function(d){return!d[3]&&d[1]!==0&&d[2]===nt}),E(function(d){var h=d[0][0];return(0,d[5])("Upward scrolling compensation",{amount:h},Q.DEBUG),h})));function z(d){d>0?(q(n,{top:-d,behavior:"auto"}),q(r,0)):(q(r,0),q(n,{top:-d,behavior:"auto"}))}return $(I(P,V(r,a)),function(d){var h=d[0],s=d[1];d[2]&&Dn()?q(r,s-h):z(-h)}),$(I(ae(ce(a,!1),r,x),A(function(d){return!d[0]&&!d[2]&&d[1]!==0}),E(function(d){return d[1]}),je(1)),z),L(I(w,E(function(d){return{top:-d}})),n),$(I(p,V(g,S),E(function(d){var h=d[0];return h*d[1].lastSize+h*d[2]})),function(d){q(r,d),requestAnimationFrame(function(){q(n,{top:d}),requestAnimationFrame(function(){q(r,0),q(x,!1)})})}),{deviation:r}},K(me,it,qe,Pe,Ae,Et)),Nn=U(function(e){var t=e[0].totalListHeight,n=e[1].didMount,o=e[2].scrollTo,r=y(0);return $(I(n,V(r),A(function(i){return i[1]!==0}),E(function(i){return{top:i[1]}})),function(i){De(I(t,A(function(l){return l!==0})),function(){setTimeout(function(){q(o,i)})})}),{initialScrollTop:r}},K(zt,Ne,me),{singleton:!0}),Un=U(function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,o=y(!1);return{alignToBottom:o,paddingTopAddition:ce(I(ae(o,t,n),A(function(r){return r[0]}),E(function(r){return Math.max(0,r[1]-r[2])}),Z()),0)}},K(me,zt),{singleton:!0}),Cn=U(function(e){var t=e[0],n=t.scrollTo,o=t.scrollContainerState,r=O(),i=O(),l=O(),a=y(!1),f=y(void 0);return L(I(ae(r,i),E(function(u){var c=u[0],p=c.viewportHeight,w=c.scrollHeight;return{scrollTop:Math.max(0,c.scrollTop-u[1].offsetTop),scrollHeight:w,viewportHeight:p}})),o),L(I(n,V(i),E(function(u){var c=u[0];return F({},c,{top:c.top+u[1].offsetTop})})),l),{useWindowScroll:a,customScrollParent:f,windowScrollContainerState:r,windowViewportRect:i,windowScrollTo:l}},K(me)),_n=["done","behavior","align"],jn=U(function(e){var t=e[0],n=t.sizes,o=t.totalCount,r=t.gap,i=e[1],l=i.scrollTop,a=i.viewportHeight,f=i.headerHeight,u=i.fixedHeaderHeight,c=i.fixedFooterHeight,p=i.scrollingInProgress,w=e[2].scrollToIndex,g=O();return L(I(g,V(n,a,o,f,u,c,l),V(r),E(function(S){var v=S[0],x=v[0],P=v[1],z=v[2],d=v[3],h=v[4],s=v[5],m=v[6],T=v[7],b=S[1],H=x.done,k=x.behavior,M=x.align,G=Ye(x,_n),Y=null,X=dn(x,P,d-1),R=tt(X,P.offsetTree,b)+h+s;return R<T+s?Y=F({},G,{behavior:k,align:M??"start"}):R+be(P.sizeTree,X)[1]>T+z-m&&(Y=F({},G,{behavior:k,align:M??"end"})),Y?H&&De(I(p,st(1),A(function(J){return J===!1})),H):H&&H(),Y}),A(function(S){return S!==null})),w),{scrollIntoView:g}},K(Pe,me,rt,qe,Ae),{singleton:!0}),Kn=["listState","topItemsIndexes"],Yn=U(function(e){return F({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},K(kt,Wn,Ne,vn,zt,Nn,Un,Cn,jn)),Sn=U(function(e){var t=e[0],n=t.totalCount,o=t.sizeRanges,r=t.fixedItemSize,i=t.defaultItemSize,l=t.trackItemSizes,a=t.itemSize,f=t.data,u=t.firstItemIndex,c=t.groupIndices,p=t.statefulTotalCount,w=t.gap,g=e[1],S=g.initialTopMostItemIndex,v=g.scrolledToInitialItem,x=e[2],P=e[3],z=e[4],d=z.listState,h=z.topItemsIndexes,s=Ye(z,Kn),m=e[5].scrollToIndex,T=e[7].topItemCount,b=e[8].groupCounts,H=e[9],k=e[10];return L(s.rangeChanged,H.scrollSeekRangeChanged),L(I(H.windowViewportRect,E(function(M){return M.visibleHeight})),x.viewportHeight),F({totalCount:n,data:f,firstItemIndex:u,sizeRanges:o,initialTopMostItemIndex:S,scrolledToInitialItem:v,topItemsIndexes:h,topItemCount:T,groupCounts:b,fixedItemHeight:r,defaultItemHeight:i,gap:w},P,{statefulTotalCount:p,listState:d,scrollToIndex:m,trackItemSizes:l,itemSize:a,groupIndices:c},s,H,x,k)},K(Pe,Rt,me,Mn,qe,rt,Gn,Vn,hn,Yn,Ae)),xn=In(function(){if(typeof document>"u")return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky",e.style.position==="-webkit-sticky"?"-webkit-sticky":"sticky"});function Bt(e,t){var n=C.useRef(null),o=C.useCallback(function(f){if(f!==null&&f.offsetParent){var u,c,p=f.getBoundingClientRect(),w=p.width;if(t){var g=t.getBoundingClientRect(),S=p.top-g.top;u=g.height-Math.max(0,S),c=S+t.scrollTop}else u=window.innerHeight-Math.max(0,p.top),c=p.top+window.pageYOffset;n.current={offsetTop:c,visibleHeight:u,visibleWidth:w},e(n.current)}},[e,t]),r=Ht(o),i=r.callbackRef,l=r.ref,a=C.useCallback(function(){o(l.current)},[o,l]);return C.useEffect(function(){if(t){t.addEventListener("scroll",a);var f=new ResizeObserver(a);return f.observe(t),function(){t.removeEventListener("scroll",a),f.unobserve(t)}}return window.addEventListener("scroll",a),window.addEventListener("resize",a),function(){window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[a,t]),i}var ht=C.createContext(void 0),qn=["placeholder"],Zn=["style","children"],Jn=["style","children"];function Lt(e){return e}var $n=U(function(){var e=y(function(f){return"Item "+f}),t=y(null),n=y(function(f){return"Group "+f}),o=y({}),r=y(Lt),i=y("div"),l=y(Ke),a=function(f,u){return u===void 0&&(u=null),ce(I(o,E(function(c){return c[f]}),Z()),u)};return{context:t,itemContent:e,groupContent:n,components:o,computeItemKey:r,headerFooterTag:i,scrollerRef:l,FooterComponent:a("Footer"),HeaderComponent:a("Header"),TopItemListComponent:a("TopItemList"),ListComponent:a("List","div"),ItemComponent:a("Item","div"),GroupComponent:a("Group","div"),ScrollerComponent:a("Scroller","div"),EmptyPlaceholder:a("EmptyPlaceholder"),ScrollSeekPlaceholder:a("ScrollSeekPlaceholder")}});function _e(e,t){var n=O();return $(n,function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")}),L(n,e),n}var Qn=U(function(e){var t=e[0],n=e[1],o={item:_e(n.itemContent,"Rename the %citem%c prop to %citemContent."),group:_e(n.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:_e(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:_e(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:_e(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:O(),maxHeightCacheSize:O(),footer:O(),header:O(),HeaderContainer:O(),FooterContainer:O(),ItemContainer:O(),ScrollContainer:O(),GroupContainer:O(),ListContainer:O(),emptyComponent:O(),scrollSeek:O()};function r(i,l,a){L(I(i,V(n.components),E(function(f){var u,c=f[0],p=f[1];return console.warn("react-virtuoso: "+a+" property is deprecated. Pass components."+l+" instead."),F({},p,((u={})[l]=c,u))})),n.components)}return $(o.adjustForPrependedItems,function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")}),$(o.maxHeightCacheSize,function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")}),$(o.HeaderContainer,function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")}),$(o.FooterContainer,function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")}),$(o.scrollSeek,function(i){var l=i.placeholder,a=Ye(i,qn);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),q(n.components,F({},Be(n.components),{ScrollSeekPlaceholder:l})),q(t.scrollSeekConfiguration,a)}),r(o.footer,"Footer","footer"),r(o.header,"Header","header"),r(o.ItemContainer,"Item","ItemContainer"),r(o.ListContainer,"List","ListContainer"),r(o.ScrollContainer,"Scroller","ScrollContainer"),r(o.emptyComponent,"EmptyPlaceholder","emptyComponent"),r(o.GroupContainer,"Group","GroupContainer"),F({},t,n,o)},K(Sn,$n)),Xn=function(e){return C.createElement("div",{style:{height:e.height}})},eo={position:xn(),zIndex:1,overflowAnchor:"none"},to={overflowAnchor:"none"},qt=C.memo(function(e){var t=e.showTopList,n=t!==void 0&&t,o=D("listState"),r=xe("sizeRanges"),i=D("useWindowScroll"),l=D("customScrollParent"),a=xe("windowScrollContainerState"),f=xe("scrollContainerState"),u=l||i?a:f,c=D("itemContent"),p=D("context"),w=D("groupContent"),g=D("trackItemSizes"),S=D("itemSize"),v=D("log"),x=xe("gap"),P=tn(r,S,g,n?Ke:u,v,x,l).callbackRef,z=C.useState(0),d=z[0],h=z[1];Ft("deviation",function(R){d!==R&&h(R)});var s=D("EmptyPlaceholder"),m=D("ScrollSeekPlaceholder")||Xn,T=D("ListComponent"),b=D("ItemComponent"),H=D("GroupComponent"),k=D("computeItemKey"),M=D("isSeeking"),G=D("groupIndices").length>0,Y=D("paddingTopAddition"),X=n?{}:{boxSizing:"border-box",paddingTop:o.offsetTop+Y,paddingBottom:o.offsetBottom,marginTop:d};return!n&&o.totalCount===0&&s?C.createElement(s,ee(s,p)):C.createElement(T,F({},ee(T,p),{ref:P,style:X,"data-test-id":n?"virtuoso-top-item-list":"virtuoso-item-list"}),(n?o.topItems:o.items).map(function(R){var J=R.originalIndex,te=k(J+o.firstItemIndex,R.data,p);return M?C.createElement(m,F({},ee(m,p),{key:te,index:R.index,height:R.size,type:R.type||"item"},R.type==="group"?{}:{groupIndex:R.groupIndex})):R.type==="group"?C.createElement(H,F({},ee(H,p),{key:te,"data-index":J,"data-known-size":R.size,"data-item-index":R.index,style:eo}),w(R.index)):C.createElement(b,F({},ee(b,p),{key:te,"data-index":J,"data-known-size":R.size,"data-item-index":R.index,"data-item-group-index":R.groupIndex,style:to}),G?c(R.index,R.groupIndex,R.data,p):c(R.index,R.data,p))}))}),no={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Ze={width:"100%",height:"100%",position:"absolute",top:0},oo={width:"100%",position:xn(),top:0};function ee(e,t){if(typeof e!="string")return{context:t}}var ro=C.memo(function(){var e=D("HeaderComponent"),t=xe("headerHeight"),n=D("headerFooterTag"),o=Me(function(i){return t(Le(i,"height"))}),r=D("context");return e?C.createElement(n,{ref:o},C.createElement(e,ee(e,r))):null}),io=C.memo(function(){var e=D("FooterComponent"),t=xe("footerHeight"),n=D("headerFooterTag"),o=Me(function(i){return t(Le(i,"height"))}),r=D("context");return e?C.createElement(n,{ref:o},C.createElement(e,ee(e,r))):null});function Pt(e){var t=e.usePublisher,n=e.useEmitter,o=e.useEmitterValue;return C.memo(function(r){var i=r.style,l=r.children,a=Ye(r,Zn),f=t("scrollContainerState"),u=o("ScrollerComponent"),c=t("smoothScrollTargetReached"),p=o("scrollerRef"),w=o("context"),g=on(f,c,u,p),S=g.scrollerRef,v=g.scrollByCallback;return n("scrollTo",g.scrollToCallback),n("scrollBy",v),C.createElement(u,F({ref:S,style:F({},no,i),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},a,ee(u,w)),l)})}function Ot(e){var t=e.usePublisher,n=e.useEmitter,o=e.useEmitterValue;return C.memo(function(r){var i=r.style,l=r.children,a=Ye(r,Jn),f=t("windowScrollContainerState"),u=o("ScrollerComponent"),c=t("smoothScrollTargetReached"),p=o("totalListHeight"),w=o("deviation"),g=o("customScrollParent"),S=o("context"),v=on(f,c,u,Ke,g),x=v.scrollerRef,P=v.scrollByCallback,z=v.scrollToCallback;return bn(function(){return x.current=g||window,function(){x.current=null}},[x,g]),n("windowScrollTo",z),n("scrollBy",P),C.createElement(u,F({style:F({position:"relative"},i,p!==0?{height:p+w}:{}),"data-virtuoso-scroller":!0},a,ee(u,S)),l)})}var lo=function(e){var t=e.children,n=C.useContext(ht),o=xe("viewportHeight"),r=xe("fixedItemHeight"),i=Me(ct(o,function(l){return Le(l,"height")}));return C.useEffect(function(){n&&(o(n.viewportHeight),r(n.itemHeight))},[n,o,r]),C.createElement("div",{style:Ze,ref:i,"data-viewport-type":"element"},t)},ao=function(e){var t=e.children,n=C.useContext(ht),o=xe("windowViewportRect"),r=xe("fixedItemHeight"),i=D("customScrollParent"),l=Bt(o,i);return C.useEffect(function(){n&&(r(n.itemHeight),o({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))},[n,o,r]),C.createElement("div",{ref:l,style:Ze,"data-viewport-type":"window"},t)},uo=function(e){var t=e.children,n=D("TopItemListComponent"),o=D("headerHeight"),r=F({},oo,{marginTop:o+"px"}),i=D("context");return C.createElement(n||"div",{style:r,context:i},t)},gt=yt(Qn,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},C.memo(function(e){var t=D("useWindowScroll"),n=D("topItemsIndexes").length>0,o=D("customScrollParent"),r=o||t?ao:lo;return C.createElement(o||t?fo:co,F({},e),C.createElement(r,null,C.createElement(ro,null),C.createElement(qt,null),C.createElement(io,null)),n&&C.createElement(uo,null,C.createElement(qt,{showTopList:!0})))})),so=gt.Component,xe=gt.usePublisher,D=gt.useEmitterValue,Ft=gt.useEmitter,co=Pt({usePublisher:xe,useEmitterValue:D,useEmitter:Ft}),fo=Ot({usePublisher:xe,useEmitterValue:D,useEmitter:Ft}),Zt={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},mo={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Jt=Math.round,$t=Math.ceil,Mt=Math.floor,It=Math.min,Xe=Math.max;function Qt(e,t){return Array.from({length:t-e+1}).map(function(n,o){return{index:o+e}})}function po(e,t){return e&&e.column===t.column&&e.row===t.row}var ho=U(function(e){var t=e[0],n=t.overscan,o=t.visibleRange,r=t.listBoundary,i=e[1],l=i.scrollTop,a=i.viewportHeight,f=i.scrollBy,u=i.scrollTo,c=i.smoothScrollTargetReached,p=i.scrollContainerState,w=e[2],g=e[3],S=e[4],v=S.propsReady,x=S.didMount,P=e[5],z=P.windowViewportRect,d=P.windowScrollTo,h=P.useWindowScroll,s=P.customScrollParent,m=P.windowScrollContainerState,T=e[6],b=y(0),H=y(0),k=y(Zt),M=y({height:0,width:0}),G=y({height:0,width:0}),Y=O(),X=O(),R=y(0),J=y({row:0,column:0});L(I(x,V(H),A(function(B){return B[1]!==0}),E(function(B){return{items:Qt(0,B[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}})),k),L(I(ae(W(b),o,W(J,po),W(G,function(B,N){return B&&B.width===N.width&&B.height===N.height})),V(M),E(function(B){var N=B[0],pe=N[0],fe=N[1],he=fe[0],ge=fe[1],ve=N[2],de=N[3],ke=B[1],ne=ve.row,re=de.height,Ue=de.width,lt=ke.width;if(pe===0||lt===0)return Zt;if(Ue===0)return mo;var ie=Tn(lt,Ue,ve.column),ue=ie*Mt((he+ne)/(re+ne)),Ie=ie*$t((ge+ne)/(re+ne))-1;Ie=Xe(0,It(pe-1,Ie));var se=Qt(ue=It(Ie,Xe(0,ue)),Ie),Te=Xt(ke,ve,de,se),we=Te.top,ye=Te.bottom,Se=$t(pe/ie);return{items:se,offsetTop:we,offsetBottom:Se*re+(Se-1)*ne-ye,top:we,bottom:ye,itemHeight:re,itemWidth:Ue}})),k),L(I(M,E(function(B){return B.height})),a),L(I(ae(M,G,k,J),E(function(B){var N=Xt(B[0],B[3],B[1],B[2].items);return[N.top,N.bottom]}),Z(ot)),r);var te=Ce(I(W(k),A(function(B){return B.items.length>0}),V(b),A(function(B){var N=B[0].items;return N[N.length-1].index===B[1]-1}),E(function(B){return B[1]-1}),Z())),We=Ce(I(W(k),A(function(B){var N=B.items;return N.length>0&&N[0].index===0}),Fe(0),Z())),Re=Ce(I(W(k),A(function(B){return B.items.length>0}),E(function(B){var N=B.items;return{startIndex:N[0].index,endIndex:N[N.length-1].index}}),Z(gn)));L(Re,g.scrollSeekRangeChanged),L(I(Y,V(M,G,b,J),E(function(B){var N=B[1],pe=B[2],fe=B[3],he=B[4],ge=pn(B[0]),ve=ge.align,de=ge.behavior,ke=ge.offset,ne=ge.index;ne==="LAST"&&(ne=fe-1);var re=wt(N,he,pe,ne=Xe(0,ne,It(fe-1,ne)));return ve==="end"?re=Jt(re-N.height+pe.height):ve==="center"&&(re=Jt(re-N.height/2+pe.height/2)),ke&&(re+=ke),{top:re,behavior:de}})),u);var Oe=ce(I(k,E(function(B){return B.offsetBottom+B.bottom})),0);return L(I(z,E(function(B){return{width:B.visibleWidth,height:B.visibleHeight}})),M),F({totalCount:b,viewportDimensions:M,itemDimensions:G,scrollTop:l,scrollHeight:X,overscan:n,scrollBy:f,scrollTo:u,scrollToIndex:Y,smoothScrollTargetReached:c,windowViewportRect:z,windowScrollTo:d,useWindowScroll:h,customScrollParent:s,windowScrollContainerState:m,deviation:R,scrollContainerState:p,initialItemCount:H,gap:J},g,{gridState:k,totalListHeight:Oe},w,{startReached:We,endReached:te,rangeChanged:Re,propsReady:v},T)},K(kt,me,it,vn,Ne,Cn,Ae));function Xt(e,t,n,o){var r=n.height;return r===void 0||o.length===0?{top:0,bottom:0}:{top:wt(e,t,n,o[0].index),bottom:wt(e,t,n,o[o.length-1].index)+r}}function wt(e,t,n,o){var r=Tn(e.width,n.width,t.column),i=Mt(o/r),l=i*n.height+Xe(0,i-1)*t.row;return l>0?l+t.row:l}function Tn(e,t,n){return Xe(1,Mt((e+n)/(t+n)))}var go=["placeholder"],vo=U(function(){var e=y(function(f){return"Item "+f}),t=y({}),n=y(null),o=y("virtuoso-grid-item"),r=y("virtuoso-grid-list"),i=y(Lt),l=y(Ke),a=function(f,u){return ce(I(t,E(function(c){return c[f]}),Z()),u)};return{context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:o,listClassName:r,scrollerRef:l,ListComponent:a("List","div"),ItemComponent:a("Item","div"),ScrollerComponent:a("Scroller","div"),ScrollSeekPlaceholder:a("ScrollSeekPlaceholder","div")}}),Io=U(function(e){var t=e[0],n=e[1],o={item:_e(n.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:O(),ScrollContainer:O(),ListContainer:O(),emptyComponent:O(),scrollSeek:O()};function r(i,l,a){L(I(i,V(n.components),E(function(f){var u,c=f[0],p=f[1];return console.warn("react-virtuoso: "+a+" property is deprecated. Pass components."+l+" instead."),F({},p,((u={})[l]=c,u))})),n.components)}return $(o.scrollSeek,function(i){var l=i.placeholder,a=Ye(i,go);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),q(n.components,F({},Be(n.components),{ScrollSeekPlaceholder:l})),q(t.scrollSeekConfiguration,a)}),r(o.ItemContainer,"Item","ItemContainer"),r(o.ListContainer,"List","ListContainer"),r(o.ScrollContainer,"Scroller","ScrollContainer"),F({},t,n,o)},K(ho,vo)),Co=C.memo(function(){var e=le("gridState"),t=le("listClassName"),n=le("itemClassName"),o=le("itemContent"),r=le("computeItemKey"),i=le("isSeeking"),l=Ve("scrollHeight"),a=le("ItemComponent"),f=le("ListComponent"),u=le("ScrollSeekPlaceholder"),c=le("context"),p=Ve("itemDimensions"),w=Ve("gap"),g=le("log"),S=Me(function(v){l(v.parentElement.parentElement.scrollHeight);var x=v.firstChild;x&&p(x.getBoundingClientRect()),w({row:en("row-gap",getComputedStyle(v).rowGap,g),column:en("column-gap",getComputedStyle(v).columnGap,g)})});return C.createElement(f,F({ref:S,className:t},ee(f,c),{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}}),e.items.map(function(v){var x=r(v.index);return i?C.createElement(u,F({key:x},ee(u,c),{index:v.index,height:e.itemHeight,width:e.itemWidth})):C.createElement(a,F({},ee(a,c),{className:n,"data-index":v.index,key:x}),o(v.index,c))}))}),So=function(e){var t=e.children,n=Ve("viewportDimensions"),o=Me(function(r){n(r.getBoundingClientRect())});return C.createElement("div",{style:Ze,ref:o},t)},xo=function(e){var t=e.children,n=Bt(Ve("windowViewportRect"),le("customScrollParent"));return C.createElement("div",{ref:n,style:Ze},t)},At=yt(Io,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},C.memo(function(e){var t=F({},e),n=le("useWindowScroll"),o=le("customScrollParent"),r=o||n?xo:So;return C.createElement(o||n?wo:To,F({},t),C.createElement(r,null,C.createElement(Co,null)))})),Ve=At.usePublisher,le=At.useEmitterValue,wn=At.useEmitter,To=Pt({usePublisher:Ve,useEmitterValue:le,useEmitter:wn}),wo=Ot({usePublisher:Ve,useEmitterValue:le,useEmitter:wn});function en(e,t,n){return t==="normal"||t!=null&&t.endsWith("px")||n(e+" was not resolved to pixel value correctly",t,Q.WARN),t==="normal"?0:parseInt(t??"0",10)}var yo=U(function(){var e=y(function(f){return C.createElement("td",null,"Item $",f)}),t=y(null),n=y(null),o=y(null),r=y({}),i=y(Lt),l=y(Ke),a=function(f,u){return u===void 0&&(u=null),ce(I(r,E(function(c){return c[f]}),Z()),u)};return{context:t,itemContent:e,fixedHeaderContent:n,fixedFooterContent:o,components:r,computeItemKey:i,scrollerRef:l,TableComponent:a("Table","table"),TableHeadComponent:a("TableHead","thead"),TableFooterComponent:a("TableFoot","tfoot"),TableBodyComponent:a("TableBody","tbody"),TableRowComponent:a("TableRow","tr"),ScrollerComponent:a("Scroller","div"),EmptyPlaceholder:a("EmptyPlaceholder"),ScrollSeekPlaceholder:a("ScrollSeekPlaceholder"),FillerRow:a("FillerRow")}}),Ho=U(function(e){return F({},e[0],e[1])},K(Sn,yo)),Eo=function(e){return C.createElement("tr",null,C.createElement("td",{style:{height:e.height}}))},bo=function(e){return C.createElement("tr",null,C.createElement("td",{style:{height:e.height,padding:0,border:0}}))},Ro=C.memo(function(){var e=_("listState"),t=He("sizeRanges"),n=_("useWindowScroll"),o=_("customScrollParent"),r=He("windowScrollContainerState"),i=He("scrollContainerState"),l=o||n?r:i,a=_("itemContent"),f=_("trackItemSizes"),u=tn(t,_("itemSize"),f,l,_("log"),void 0,o),c=u.callbackRef,p=u.ref,w=C.useState(0),g=w[0],S=w[1];Vt("deviation",function(R){g!==R&&(p.current.style.marginTop=R+"px",S(R))});var v=_("EmptyPlaceholder"),x=_("ScrollSeekPlaceholder")||Eo,P=_("FillerRow")||bo,z=_("TableBodyComponent"),d=_("TableRowComponent"),h=_("computeItemKey"),s=_("isSeeking"),m=_("paddingTopAddition"),T=_("firstItemIndex"),b=_("statefulTotalCount"),H=_("context");if(b===0&&v)return C.createElement(v,ee(v,H));var k=e.offsetTop+m+g,M=e.offsetBottom,G=k>0?C.createElement(P,{height:k,key:"padding-top"}):null,Y=M>0?C.createElement(P,{height:M,key:"padding-bottom"}):null,X=e.items.map(function(R){var J=R.originalIndex,te=h(J+T,R.data,H);return s?C.createElement(x,F({},ee(x,H),{key:te,index:R.index,height:R.size,type:R.type||"item"})):C.createElement(d,F({},ee(d,H),{key:te,"data-index":J,"data-known-size":R.size,"data-item-index":R.index,style:{overflowAnchor:"none"}}),a(R.index,R.data,H))});return C.createElement(z,F({ref:c,"data-test-id":"virtuoso-item-list"},ee(z,H)),[G].concat(X,[Y]))}),ko=function(e){var t=e.children,n=C.useContext(ht),o=He("viewportHeight"),r=He("fixedItemHeight"),i=Me(ct(o,function(l){return Le(l,"height")}));return C.useEffect(function(){n&&(o(n.viewportHeight),r(n.itemHeight))},[n,o,r]),C.createElement("div",{style:Ze,ref:i,"data-viewport-type":"element"},t)},zo=function(e){var t=e.children,n=C.useContext(ht),o=He("windowViewportRect"),r=He("fixedItemHeight"),i=_("customScrollParent"),l=Bt(o,i);return C.useEffect(function(){n&&(r(n.itemHeight),o({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))},[n,o,r]),C.createElement("div",{ref:l,style:Ze,"data-viewport-type":"window"},t)},Wt=yt(Ho,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},C.memo(function(e){var t=_("useWindowScroll"),n=_("customScrollParent"),o=He("fixedHeaderHeight"),r=He("fixedFooterHeight"),i=_("fixedHeaderContent"),l=_("fixedFooterContent"),a=_("context"),f=Me(ct(o,function(P){return Le(P,"height")})),u=Me(ct(r,function(P){return Le(P,"height")})),c=n||t?Lo:Bo,p=n||t?zo:ko,w=_("TableComponent"),g=_("TableHeadComponent"),S=_("TableFooterComponent"),v=i?C.createElement(g,F({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:f},ee(g,a)),i()):null,x=l?C.createElement(S,F({key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:u},ee(S,a)),l()):null;return C.createElement(c,F({},e),C.createElement(p,null,C.createElement(w,F({style:{borderSpacing:0}},ee(w,a)),[v,C.createElement(Ro,{key:"TableBody"}),x])))})),He=Wt.usePublisher,_=Wt.useEmitterValue,Vt=Wt.useEmitter,Bo=Pt({usePublisher:He,useEmitterValue:_,useEmitter:Vt}),Lo=Ot({usePublisher:He,useEmitterValue:_,useEmitter:Vt}),Mo=so;export{Mo as l};
